# üìö Explicaci√≥n Completa del Proyecto Talentum+

## üéØ **¬øQu√© es este proyecto?**

**Talentum+** es una plataforma de gesti√≥n de talento IT que utiliza **4 bases de datos diferentes** (persistencia pol√≠glota), cada una optimizada para un tipo espec√≠fico de dato y funcionalidad.

---

## üèóÔ∏è **Arquitectura General**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    FRONTEND (React)                         ‚îÇ
‚îÇ              http://localhost:3000                          ‚îÇ
‚îÇ  - Dashboard, Candidatos, Matching, Procesos, Red           ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                       ‚îÇ HTTP REST API
                       ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                  BACKEND (FastAPI)                          ‚îÇ
‚îÇ              http://localhost:8080                          ‚îÇ
‚îÇ  - Endpoints REST                                           ‚îÇ
‚îÇ  - Sincronizaci√≥n entre BDs (Eventos)                       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
    ‚îÇ         ‚îÇ         ‚îÇ         ‚îÇ
    ‚ñº         ‚ñº         ‚ñº         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ MongoDB ‚îÇ ‚îÇRedis‚îÇ ‚îÇPostgreSQL‚îÇ ‚îÇ Neo4j  ‚îÇ
‚îÇ :27017  ‚îÇ ‚îÇ:6379‚îÇ ‚îÇ  :5431   ‚îÇ ‚îÇ :7474  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üóÑÔ∏è **Las 4 Bases de Datos y Sus Roles**

### 1Ô∏è‚É£ **MongoDB** (Base NoSQL Documental)
**Puerto:** `27017`  
**Rol:** Almacenar **perfiles de candidatos**

**¬øPor qu√© MongoDB?**
- Datos flexibles (cada candidato puede tener diferentes campos)
- Esquema din√°mico (f√°cil agregar nuevos atributos)
- B√∫squedas r√°pidas por campos indexados

**Datos que guarda:**
```json
{
  "_id": "673abc...",
  "nombre": "Grace Hopper",
  "email": "grace@talentum.plus",
  "seniority": "Senior",
  "skills": ["python", "algorithms", "debugging"],
  "cursos": [
    {
      "codigo": "CS101",
      "nombre": "Introducci√≥n a Python",
      "progreso": 0.75
    }
  ]
}
```

**Operaciones:**
- Crear candidatos
- Buscar por email
- Filtrar por skills o seniority
- Actualizar perfiles

---

### 2Ô∏è‚É£ **Redis** (Cach√© en Memoria)
**Puerto:** `6379`  
**Rol:** **Cache de datos** para respuestas r√°pidas

**¬øPor qu√© Redis?**
- Ultra r√°pido (almacena en RAM)
- Reduce carga en otras BDs
- TTL autom√°tico (expira datos viejos)

**Datos que cachea:**
```
perfil:grace@talentum.plus ‚Üí {"nombre":"Grace Hopper","seniority":"Senior",...}
recomendaciones:alan@talentum.plus ‚Üí [{"rol":"ML Engineer","match":3}]
matching:Backend-python-algorithms ‚Üí [{candidatos matcheados}]
```

**Funcionamiento:**
1. Primer request ‚Üí Consulta MongoDB/Neo4j ‚Üí Guarda en Redis (TTL: 5-10 min)
2. Siguiente request ‚Üí Lee directamente de Redis (milisegundos)
3. Si hay UPDATE ‚Üí Invalida cach√©

---

### 3Ô∏è‚É£ **PostgreSQL** (Base Relacional)
**Puerto:** `5431`  
**Rol:** **Procesos de selecci√≥n** (datos transaccionales)

**¬øPor qu√© PostgreSQL?**
- Garant√≠as ACID (integridad de datos)
- Relaciones claras (candidato ‚Üí procesos)
- Ideal para auditor√≠a y compliance

**Tablas:**

**`candidatos`:**
```sql
id          | nombre       | email               | seniority | created_at
------------|--------------|---------------------|-----------|-------------------
uuid-123... | Grace Hopper | grace@talentum.plus | Senior    | 2025-10-20 01:00
```

**`procesos`:**
```sql
id       | candidato_id | puesto              | estado     | feedback          | updated_at
---------|--------------|---------------------|------------|-------------------|------------
uuid-456 | uuid-123     | Backend Developer   | entrevista | Muy buen perfil   | 2025-10-20
```

**Operaciones:**
- Crear proceso de selecci√≥n
- Actualizar estado (inicial ‚Üí entrevista ‚Üí finalista ‚Üí contratado)
- Historial completo de un candidato
- Reportes y m√©tricas

---

### 4Ô∏è‚É£ **Neo4j** (Base de Grafos)
**Puerto:** `7474` (Browser) / `7687` (Bolt)  
**Rol:** **Recomendaciones, matching y red de contactos**

**¬øPor qu√© Neo4j?**
- Modela relaciones complejas (grafo)
- Algoritmos de matching nativos
- Visualizaci√≥n de redes

**Estructura del grafo:**
```
(Candidato:Grace)-[:DOMINA]->(Skill:Python)
                  -[:DOMINA]->(Skill:Algorithms)
                  -[:POSTULA_A]->(Rol:Backend Dev)
                  -[:MENTOREADO_POR]->(Mentor:Alan)

(Rol:Backend Dev)-[:REQUIERE]->(Skill:Python)
                 -[:REQUIERE]->(Skill:Algorithms)
```

**Operaciones:**
- **Matching:** "¬øQu√© candidatos tienen las skills que requiere este rol?"
- **Recomendaciones:** "¬øA qu√© roles puede postularse Grace seg√∫n sus skills?"
- **Red de contactos:** "¬øQui√©nes son los mentores, colegas de Grace?"

**Query de ejemplo (Cypher):**
```cypher
// Buscar candidatos que matcheen con Backend Developer
MATCH (c:Candidato)-[:DOMINA]->(s:Skill)<-[:REQUIERE]-(r:Rol {nombre: "Backend Developer"})
RETURN c.nombre, COUNT(s) AS match_count
ORDER BY match_count DESC
```

---

## üîÑ **Sincronizaci√≥n entre Bases de Datos (Eventos)**

Cuando ocurre una acci√≥n en una BD, se **propaga autom√°ticamente** a las dem√°s:

### Ejemplo: Crear un Candidato

```
1. Usuario llena formulario en React (/crear-candidato)
   ‚Üì
2. Frontend env√≠a POST /candidatos
   ‚Üì
3. Backend (FastAPI):
   a) Guarda en MongoDB ‚úÖ
      {nombre, email, skills, seniority, cursos}
   
   b) EVENTO: sincronizar_candidato_creado()
      - Crea nodo en Neo4j ‚úÖ
        (Candidato {id: email, nombre, seniority})
        + relaciones [:DOMINA]‚Üí(Skill)
      
      - Registra en PostgreSQL ‚úÖ
        INSERT INTO candidatos (nombre, email, seniority)
      
      - Cachea en Redis ‚úÖ
        SET perfil:email {...} EX 3600
   
   c) Retorna: {"id": "...", "sincronizado": true}
```

### Ejemplo: Actualizar Skills

```
1. Usuario edita skills en /candidatos/grace@talentum.plus
   ‚Üì
2. Frontend env√≠a PUT /candidatos/grace@talentum.plus
   body: {"skills": ["python", "rust", "go"]}
   ‚Üì
3. Backend:
   a) Actualiza MongoDB ‚úÖ
      UPDATE perfiles SET skills = [...]
   
   b) EVENTO: sincronizar_candidato_actualizado()
      - Elimina relaciones viejas en Neo4j ‚úÖ
        MATCH (c:Candidato)-[r:DOMINA]->() DELETE r
      
      - Crea nuevas relaciones ‚úÖ
        MERGE (s:Skill {nombre: "rust"})
        MERGE (c)-[:DOMINA]->(s)
      
      - Invalida cach√© en Redis ‚úÖ
        DEL perfil:grace@talentum.plus
        DEL recomendaciones:grace@talentum.plus
```

### Ejemplo: Matching Autom√°tico

```
1. Reclutador busca candidatos para "Backend Developer"
   Skills: [python, algorithms, debugging]
   ‚Üì
2. Frontend env√≠a POST /matching
   ‚Üì
3. Backend:
   a) Consulta Neo4j ‚úÖ
      MATCH (c:Candidato)-[:DOMINA]->(s:Skill)
      WHERE s.nombre IN ["python", "algorithms", "debugging"]
      WITH c, COUNT(s) AS match_count
      RETURN c.email, match_count
      ORDER BY match_count DESC
   
   b) Cachea resultado en Redis ‚úÖ
      SET matching:Backend-python-algorithms-debugging [{...}] EX 600
   
   c) Retorna candidatos ordenados por % match
```

---

## üñ•Ô∏è **Frontend (React)**

### P√°ginas Principales:

1. **Dashboard** (`/`)
   - Estad√≠sticas generales
   - Total de candidatos, procesos activos
   - Accesos r√°pidos

2. **Candidatos** (`/candidatos`)
   - Lista todos los candidatos (MongoDB)
   - Filtros por skill/seniority
   - Ver detalles de cada perfil

3. **Crear Candidato** (`/crear-candidato`)
   - Formulario para nuevo candidato
   - Al enviar ‚Üí POST /candidatos ‚Üí sincronizaci√≥n autom√°tica

4. **Matching** (`/matching`)
   - Buscar candidatos para un puesto
   - Input: puesto + skills requeridos
   - Output: candidatos ordenados por % match (Neo4j)

5. **Procesos** (`/procesos`)
   - Ver procesos de selecci√≥n (PostgreSQL)
   - Crear nuevo proceso
   - Actualizar estado (entrevista ‚Üí finalista ‚Üí contratado)

6. **Red de Contactos** (`/red`)
   - Visualiza grafo de relaciones (Neo4j)
   - Asignar mentores
   - Ver conexiones (skills, roles, mentores)

---

## üîë **Flujos de Datos Clave**

### üéØ **Flujo 1: Recomendaciones Inteligentes**
```
Usuario busca en /recomendaciones/grace@talentum.plus
   ‚Üì
1. Verifica cach√© Redis
   - Si existe ‚Üí retorna inmediatamente
   - Si no existe ‚Üì
2. Query a Neo4j:
   "¬øQu√© roles requieren las skills que Grace domina?"
   MATCH (c:Candidato {id:"grace@..."})-[:DOMINA]->(s:Skill)<-[:REQUIERE]-(r:Rol)
   RETURN r.nombre, COUNT(s) AS match
3. Cachea resultado en Redis (TTL: 10 min)
4. Retorna al frontend
```

### üìä **Flujo 2: B√∫squeda Optimizada**
```
Usuario filtra candidatos por skill="python" en /candidatos
   ‚Üì
1. Consulta MongoDB (indexado por skills)
   db.perfiles.find({"skills": "python"})
2. Si hay muchos resultados, cachea en Redis
3. Frontend muestra cards con:
   - Datos de MongoDB
   - Link a "Ver Procesos" (PostgreSQL)
   - Link a "Ver Red" (Neo4j)
```

### üîó **Flujo 3: Sincronizaci√≥n Completa**
```
Crear proceso de selecci√≥n en /procesos
   ‚Üì
1. INSERT en PostgreSQL (tabla procesos)
2. EVENTO: sincronizar_proceso_creado()
   - Crea relaci√≥n en Neo4j:
     (Candidato)-[:POSTULA_A {estado:"entrevista"}]->(Rol)
   - Invalida cach√© Redis del candidato
3. Frontend puede visualizar en grafo Neo4j
```

---

## üìÅ **Estructura de Archivos Clave**

```
talentum-plus/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ main.py          # FastAPI app + endpoints REST
‚îÇ   ‚îú‚îÄ‚îÄ models.py        # Pydantic schemas (Candidato, Proceso)
‚îÇ   ‚îú‚îÄ‚îÄ database.py      # Conexiones a las 4 BDs
‚îÇ   ‚îî‚îÄ‚îÄ events.py        # L√≥gica de sincronizaci√≥n
‚îú‚îÄ‚îÄ frontend/
‚îÇ   ‚îî‚îÄ‚îÄ src/
‚îÇ       ‚îú‚îÄ‚îÄ App.jsx      # Router + navegaci√≥n
‚îÇ       ‚îî‚îÄ‚îÄ pages/       # Cada vista (Dashboard, Candidatos, etc)
‚îú‚îÄ‚îÄ deploy/
‚îÇ   ‚îú‚îÄ‚îÄ mongo/init.js    # Inicializa MongoDB
‚îÇ   ‚îú‚îÄ‚îÄ postgres/init.sql # Crea tablas en PostgreSQL
‚îÇ   ‚îî‚îÄ‚îÄ neo4j/bootstrap.cql # Datos iniciales Neo4j
‚îú‚îÄ‚îÄ docker-compose.yml   # Orquesta las 4 BDs + backend
‚îî‚îÄ‚îÄ Dockerfile          # Imagen del backend Python
```

---

## üöÄ **¬øC√≥mo funciona end-to-end?**

### Ejemplo Real: Contratar a un Backend Developer

1. **Reclutador abre /matching**
   - Input: "Backend Developer", skills: ["python", "algorithms"]
   
2. **Backend consulta Neo4j:**
   ```cypher
   MATCH (c:Candidato)-[:DOMINA]->(s:Skill)
   WHERE s.nombre IN ["python", "algorithms"]
   RETURN c
   ```
   
3. **Resultados:**
   - Grace Hopper: 100% match (tiene ambas skills)
   - Alan Turing: 50% match (solo algorithms)
   
4. **Reclutador selecciona a Grace ‚Üí Crea proceso:**
   - POST /procesos
   - Guarda en PostgreSQL: `{candidato: grace, puesto: Backend Dev, estado: inicial}`
   - Neo4j crea: `(Grace)-[:POSTULA_A {estado:"inicial"}]->(Backend Dev)`
   
5. **Entrevistas:**
   - UPDATE estado ‚Üí "entrevista" ‚Üí "finalista" ‚Üí "contratado"
   - Cada cambio se registra en PostgreSQL (auditor√≠a)
   
6. **Contrataci√≥n:**
   - Asignar mentor en /red
   - POST /mentoring/grace@.../senior@...
   - Neo4j crea: `(Grace)-[:MENTOREADO_POR]->(Senior Dev)`

---

## üéì **Ventajas de esta Arquitectura**

| Base de Datos | Ventaja |
|--------------|---------|
| **MongoDB** | Flexibilidad de esquema, b√∫squedas textuales |
| **Redis** | Velocidad extrema (cach√©), reduce latencia |
| **PostgreSQL** | Integridad de datos, compliance, reportes |
| **Neo4j** | Matching inteligente, recomendaciones, grafos |

**Resultado:** Sistema escalable, r√°pido y especializado para cada tipo de dato üöÄ

¬øQuer√©s que profundice en alguna parte espec√≠fica? (sincronizaci√≥n, queries, frontend, etc.)